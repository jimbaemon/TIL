# 왕초보도 따라하는 도커 기초

## 도커 설치하기

```
# sudo -i //root 권한 획득
# apt install docker.io //docker 설치
# docker //도커 도움말
```

```
//서비스 올리기 
#docker search tomcat //이미지 검색
# docker run -d -p 8080:8080 --name [이름] [검색에나온명] 
```

* -d : 백그라운드 실행
* -p : 포트 지정
* --name : 이름 지정

```
//톰캣 설치
# docker run -d -p 8080:8080 --name tc consol/tomcat-7.0
```



## 내가 원하는 이미지 찾기 도커 레지스트리

* 도커 레지스트리에는 사용자가 사용할 수 있도록 데이터베이스를 통해 Image를 제공해주고 있음 누구나 이미지를 만들어 푸시할 수 있으며 푸시된 이미지는 다른 사람들에게 공유 가능하다.
* 이미지를 컨테이너로 만드는 것은 별개이다

![image-20210130221614582](http://www.jimbae.com:59005/image/86)

* https://hub.docker.com/

![image-20210130221904489](http://www.jimbae.com:59005/image/87)

* 앞에 / 가 안붙으면 Docker 에서 official 로 제공하는 이미지, / 가 붙어있으면 개인이 업로드 하는 이미지



//mysql 이미지 내려 받기

```
# docker pull mysql
```



## 도커 라이프 사이클 이해하기

![image-20210130224833324](http://www.jimbae.com:59005/image/88)

* **Registry**: 도커의 이미지 저장소
  * **PULL** : registry 로 부터 저장된 이미지를 받는다
  * **PUSH** : 저장된 이미지를 Registry 에 저장하는 역활
* **Image** : 사용할 이미지
  * **CREATE**: 이미지를 이용해 컨테이너를 생성하는 작업
  * **COMMIT**: 사용하는 컨테이너를 이미지로 변환하는 작업
  * **RMI**: 이미지 제거 명령어
* **Container**: 컨테이너
  * **START**: 컨테이너를 실행
  * **RM**: 컨테이너 제거
* **Memory**: 실행중인 메모리 (도커랑 상관없다 그냥 메모리다..)
  * **STOP**: 실행중이 도커 멈추기
  * **RUN** : Image 를 다운로드 하여CREATE 하고 Start 까지 한번에 해주는 명령어 이미지가 있다면 CREATE 후 START 만 진행한다
    * 주의사항 : RUN 으로 컨테이너 실행시 이미지로 신규 컨테이너를 생성하여 실행하는 것이기 때문에 메모리 낭비가 있을수 있다.